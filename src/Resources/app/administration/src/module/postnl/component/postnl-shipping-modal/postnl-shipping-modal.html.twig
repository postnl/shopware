<sw-modal class="postnl-shipping-modal"
          :title="$tc('postnl.order.shippingModal.title', selectionCount, {
              count: selectionCount
          })"
          :closable="!isProcessing"
          @modal-close="closeModal">
    <sw-container>

        <template v-if="isBulk">
            <sw-switch-field v-model="isOverrideProduct"
                             :label="$tc('postnl.order.shippingModal.overrideProduct')"
                             :disabled="deliveryZones.length !== 1"
                             size="small"
                             noMarginTop/>
        </template>

        <postnl-product-selection v-model="overrideProductId"
                                  :destinationZone="deliveryZones[0]"
                                  :disabled="!isOverrideProduct || deliveryZones.length !== 1"/>

        <sw-switch-field v-if="!autoConfirmShipments"
                         v-model="confirmShipments"
                         :label="$tc('postnl.order.shippingModal.confirmShipments')"
                         size="small"/>
        <sw-switch-field v-model="downloadLabels"
                         :label="$tc('postnl.order.shippingModal.downloadLabels')"
                         size="small"/>
    </sw-container>

    <template #modal-footer>
        <sw-button size="small"
                   :disabled="isProcessing"
                   @click="closeModal">
            {{ $tc('postnl.order.shippingModal.cancel') }}
        </sw-button>
        <sw-button-process size="small"
                           variant="primary"
                           :animationTimeout="2500"
                           :isLoading="isProcessing"
                           :processSuccess="shipmentsSent"
                           @click="sendShipments"
                           @process-finish="shipmentsSent = false">
            {{ $tc('postnl.order.shippingModal.confirm') }}
        </sw-button-process>
    </template>
</sw-modal>
